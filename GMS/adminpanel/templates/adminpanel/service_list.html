{% extends "customer_base.html" %}
{% load static %}

{% block page_title %}Manage Services{% endblock %}
Manage garage services and pricing.
{% block page_subtitle %}Manage garage services and pricing.{% endblock %}

{% block content %}

<!-- Page Header (like Users page) -->
<div class="page-head">
    <div class="page-actions">
        <a href="{% url 'adminpanel:admin_add_service' %}" class="btn btn-gold">
            + Add Service
        </a>
    </div>
</div>

<!-- Card -->
<div class="card card-xl">
    <div class="card-body">

        <div class="table-wrap">
            <table class="table-ui">
                <thead>
                    <tr>
                        <th style="width:70px;">ID</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th style="width:120px;">Price</th>
                        <th style="width:140px;">Duration (min)</th>
                        <th style="width:110px;">Active</th>
                        <th style="width:170px;">Actions</th>
                    </tr>
                </thead>

                <tbody>
                    {% for service in services %}
                    <tr>
                        <td>{{ service.id }}</td>
                        <td class="td-strong">{{ service.name }}</td>
                        <td class="td-muted">{{ service.description }}</td>
                        <td>Rs. {{ service.price }}</td>
                        <td>{{ service.duration }}</td>
                        <td>
                            {% if service.is_active %}
                                <span class="pill pill-success">Active</span>
                            {% else %}
                                <span class="pill pill-gray">Inactive</span>
                            {% endif %}
                        </td>
                        <td>
                            <div class="row-actions">
                                <a href="{% url 'adminpanel:admin_edit_service' service.id %}" class="btn btn-soft">
                                    Edit
                                </a>

                                <form action="{% url 'adminpanel:admin_delete_service' service.id %}" method="post" class="inline-form">
                                    {% csrf_token %}
                                    <button type="submit" class="btn btn-danger"
                                            onclick="return confirm('Are you sure you want to delete this service?');">
                                        Delete
                                    </button>
                                </form>
                            </div>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="7">
                            <div class="table-empty">
                                No services available.
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>

            </table>
        </div>

    </div>
</div>

{% endblock %}