{% extends "customer_base.html" %}
{% load static %}

{% block page_title %}Delete Part{% endblock %}
{% block page_subtitle %}Confirm deletion of part{% endblock %}

{% block content %}
<div class="ap-page-center">
  <div class="ap-card-large">

    <!-- Header -->
    <div class="ap-header">
      <h2 class="ap-title-large">Delete Part</h2>
      <a href="{% url 'adminpanel:inventory' %}" class="ap-btn ap-btn-outline">‚Üê Back to Inventory</a>
    </div>

    <!-- Warning box -->
    <div class="ap-alert ap-alert-danger">
      <div class="ap-alert-icon">!</div>
      <div class="ap-alert-content">
        <h4 class="ap-alert-title">Warning: This action cannot be undone!</h4>
        <p class="ap-alert-text">
          You are about to permanently delete a part from inventory. This will remove all associated data.
        </p>
      </div>
    </div>

    <!-- Details -->
    <div class="ap-section">
      <h4 class="ap-section-title">Part Details</h4>

      <table class="ap-details-table">
        <tr>
          <td class="ap-details-key">Part Name:</td>
          <td class="ap-details-value">{{ item.name }}</td>
        </tr>
        <tr>
          <td class="ap-details-key">Price:</td>
          <td class="ap-details-value">Nrs {{ item.price }}</td>
        </tr>
        <tr>
          <td class="ap-details-key">Quantity:</td>
          <td class="ap-details-value">{{ item.quantity }}</td>
        </tr>
        <tr>
          <td class="ap-details-key">Stock Status:</td>
          <td class="ap-details-value">
            <span class="ap-badge ap-badge-{{ item.stock_status_color }}">
              {{ item.stock_status_display }}
            </span>
          </td>
        </tr>
        <tr>
          <td class="ap-details-key">Created:</td>
          <td class="ap-details-value">{{ item.created_at|date:"F d, Y" }}</td>
        </tr>
      </table>

      <!-- Actions -->
      <form method="post" class="ap-actions ap-actions-danger">
        {% csrf_token %}
        <button type="submit" class="ap-btn ap-btn-danger" onclick="return confirmDelete()">
          Yes, Delete Permanently
        </button>
        <a href="{% url 'adminpanel:inventory' %}" class="ap-btn ap-btn-outline">No, Cancel</a>
      </form>
    </div>

  </div>
</div>

<script>
function confirmDelete() {
  return confirm('WARNING: This will permanently delete the part. Are you absolutely sure?');
}
</script>
{% endblock %}