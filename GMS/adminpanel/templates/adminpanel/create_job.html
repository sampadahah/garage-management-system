{% extends "customer_base.html" %}
{% load static %}

{% block page_title %}Create Hiring Vacancy{% endblock %}
{% block page_subtitle %}Post a new job opening{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'adminpanel.css' %}">
{% endblock %}

{% block content %}
<section class="ap-page-center">
  <section class="ap-card-large">

    <header class="ap-header">
      <h2 class="ap-title-large">Create Vacancy</h2>
      <a href="{% url 'adminpanel:jobs' %}" class="ap-btn ap-btn-outline">‚Üê Back</a>
    </header>

    {% for message in messages %}
      <div class="ap-alert ap-alert-warning">{{ message }}</div>
    {% endfor %}

    {% if form.errors %}
      <div class="ap-alert ap-alert-warning">
        {{ form.non_field_errors }}
        {% for field in form %}
          {% for error in field.errors %}
            <div>{{ field.label }}: {{ error }}</div>
          {% endfor %}
        {% endfor %}
      </div>
    {% endif %}

    <form method="post" id="vacancyForm" class="ap-form">
      {% csrf_token %}

      <section class="ap-form-grid">

        <div class="ap-field">
          <label class="ap-label">Title</label>
          {{ form.title }}
        </div>

        <div class="ap-field">
          <label class="ap-label">Category</label>
          {{ form.category }}
        </div>

        <div class="ap-field">
          <label class="ap-label">Openings</label>
          {{ form.openings }}
        </div>

        <div class="ap-field">
          <label class="ap-label">Deadline</label>
          {{ form.deadline }}
        </div>

        <div class="ap-field">
          <label class="ap-label">Status</label>
          {{ form.status }}
        </div>

      </section>

      <section class="ap-form-block">
        <div class="ap-field">
          <label class="ap-label">Description</label>
          {{ form.description }}
        </div>

        <div class="ap-field">
          <label class="ap-label">Requirements</label>
          {{ form.requirements }}
        </div>

        <div class="ap-actions">
          <button type="submit" class="ap-btn ap-btn-primary">Publish</button>
          <a href="{% url 'adminpanel:jobs' %}" class="ap-btn ap-btn-outline">Cancel</a>
        </div>
      </section>
    </form>

  </section>
</section>

<script>
  document.querySelectorAll('#vacancyForm input, #vacancyForm select, #vacancyForm textarea').forEach(el => {
    if (el.type === "hidden") return;
    el.classList.add('ap-input');
    if (el.tagName.toLowerCase() === 'textarea') el.classList.add('ap-textarea');
  });
</script>
{% endblock %}  